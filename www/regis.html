<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="login.css">
    <title>Document</title>
</head>
<body id="app">
    
    <div class="logo">
        <img src="imgs/logo_kmutnb.png" width="100" height="95">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <img src="imgs/FITM_LOGO.png" width="100" height="95" > 
    </div>

    <h1>Faculty of Industrial Technology and Management</h1>
    <div class="bg"></div>
    <h2>Sign Up</h2> <br />

    <div class="bg2">
    <form class="container"> 
    <div>
        <input v-model="firstname"  type="text" name="First name"  class="inputregis"  placeholder="First name" required> &nbsp;&nbsp;&nbsp;
        <input v-model="lastname"  type="text"  name="Last name"   class="inputregis"  placeholder="Last name"  required> <br>

        <input v-model="username"  type="text"   name="UserName"    class="inputregis"  placeholder="UserName"   required> &nbsp;&nbsp;&nbsp;
        <input v-model="email"  type="text"     name="UserName"    class="inputregis"  placeholder="E-mail"    required>  <br>  
       
        <input v-model="password"  type="Password"   name="Password"    class="inputregis"  placeholder="Password"   required> &nbsp;&nbsp;&nbsp;
        <input type="Password" name="Password Confirm" class="inputregis"  placeholder="Password Confirm" required> 
    </div>
    
        <div>
            <button @click="register()" type="button" name="submit" class="butregis"> Register </button>     
        </div> 

    </form>   
    </div>
</body>
</html>
<script src="https://unpkg.com/vue@3"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.26.1/axios.min.js" integrity="sha512-bPh3uwgU5qEMipS/VOmRqynnMXGGSRv+72H/N260MQeXZIK4PG48401Bsby9Nq5P5fz7hy5UGNmC/W1Z51h2GQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    Vue.createApp({
        data(){
            return{
                data:[],
                username: '',
                password: '',
                firstname: '',
                lastname: '',
                email: '',
            }
        },
        methods:{
            register() {
                axios.post('http://localhost:5000/member/', {
                    username: this.username,
                    password: this.password,
                    fname: this.firstname,
                    lname: this.lastname,
                    email: this.email
                }).then(res=>{
                    alert("Register Success");
                    window.location.href = 'login.html';
                }).catch(err =>{
                    alert("Register Error");
                    cosole.log(err);
                })
            },
        }
    }).mount('#app')
</script>